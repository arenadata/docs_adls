Apache Ranger - Введение
========================

**Apache Ranger** можно установить при помощи пользовательского интерфейса **ADCM**. В отличие от ручного процесса установки, требующего выполнения ряда шагов, установка **Ranger** с использованием интерфейса **ADCM** проще и легче. Опция службы **Ranger** доступна через мастер **Add Service** после инсталляции кластера **ADH** с помощью установщика.

Cлужба Ranger включает в себя следующие компоненты:

+ Ranger Admin
+ Ranger UserSync
+ Ranger Key Management Service

После установки и запуска этих компонентов можно включить плагины **Ranger**, перейдя к каждому отдельному сервису (**HDFS**, **HBase**, **Hiveserver2**, **Storm**, **Knox**, **YARN** и **Kafka**) и изменив конфигурацию в расширенном режиме *ranger-<service>-plugin-properties*.

.. important:: При включении плагина Ranger необходимо перезапустить компонент

.. important:: Включение Apache Kafka требует включения Kerberos

.. important:: !ВНИМАНИЕ! Компоненты Ranger должны быть установлены на отдельной VM или сервере и не должны использовать существующие узлы кластера Arenadata Hadoop


Предварительные требования к установке
--------------------------------------

+ Поддерживаются следующие ОС: RedHat/CentOS 7.7,7.8
+ Необходимо установить JDK 8+. Поддерживаются как OpenJDK, так и Oracle JDK.

**База данных:**
+ MySQL (5.6+)
+ Сервер БД может быть установлен на том же хосте. Или сервисам Ranger необходим доступ к хосту сервера БД.
+ Для продуктивного использования необходимо выделить достаточном дискового пространства для служебной БД Ranger.

**Журнал логов:**
+ Для хранения и индексации логов Apache Ranger использует Apache Solr
+ Узлы Apache Solr могут быть установлены на те же хосты, что и компоненты Apache Ranger
+ Убедитесь что для инстансов Solr выделено достаточно ресурсов из расчета - кластер из 10 узлов, состоящий примерно из 15-20 компонентов, может генерировать 1 ГБ журналов аудита за один день

**Ranger Admin:**
+ Для процесса Ranger Admin требуется выделить минимум 1,5 ГБ ОЗУ.
