Управление аудитом в Ranger
=============================

+ `Аудит. Введение`_
+ `Вкладка Access`_
+ `Вкладка Admin`_
+ `Вкладка ​Login Sessions`_
+ `Плагины`_
+ `Статус плагинов`_


Аудит. Введение
-----------------------------------

**Apache Ranger** использует Apache Solr для хранения журналов аудита и обеспечивает поиск пользовательского интерфейса через них. Solr необходимо установить и настроить перед инсталляцией Ranger Admin. Конфигурация по умолчанию для Ranger Audits в Solr использует общий экземпляр Solr, предоставляемый бандлом ADPS. Solr – это и память, и процессор. Если продуктивная система имеет большой объем запросов доступа, необходимо убедиться, что хост Solr имеет достаточную память, процессор и дисковое пространство.

Для доступа к странице Аудита зайдите в основной интерфейс Apache Ranger и затем нажмите «Audit» в верхнем меню.

.. important:: При включении плагина Ranger необходимо перезапустить компонент


Вкладка Access
---------------

Предоставляет данные об активности пользоватей для всех политик. Политика службы по умолчанию настроена на регистрацию всех действий пользователей в рамках Сервисов. Эта политика по умолчанию не содержит правил доступа для пользователей и групп.

Вы можете фильтровать данные по следующим критериям:

.. csv-table:: Критерии фильтра
   :header: "Параметр", "Описание"
   :widths: 45, 45

   "Access Enforcer", "Ranger (ranger-acl) или Hadoop (hadoop-acl)"
   "Access Type",	"Тип попытки доступа пользователя (EG, REVOKE, GRANT, OPEN, USE)."
   "Client IP",	"IP-адрес пользовательской системы, которая пыталась получить доступ к ресурсу."
   "Result", "Показывает, была ли операция успешной..
   "Service Name", "Имя сервиса, к которой пытался получить доступ пользователь."
   "Service Type", "Тип службы, к которой пытался получить доступ пользователь."
   "Start Date, End Date", "Фильтрует результаты для определенного диапазона дат."
   "User", "Имя пользователя, который пытался получить доступ к ресурсу."
   "Cluster Name", "Название кластера"


Вкладка Admin
--------------

Вкладка «Admin» содержит все события для аудита веб-интерфейса администрирования безопасности ADH и ADS, включая службу, диспетчер служб, вход в систему и т. Д. (Такие действия, как создание, обновление, удаление, изменение пароля).

Вы можете фильтровать данные по следующим критериям:

.. csv-table:: Критерии фильтра
   :header: "Параметр", "Описание"
   :widths: 45, 45

   "Action, "Это операции, выполняемые над ресурсами (такие действия, как создание, обновление, удаление, смена пароля)."
   "Audit Type, "Существует три значения Resource, asset и xa user в соответствии с операциями, выполняемыми в Service, policy и users."
   "End Date, "	Время и дата входа в систему сохраняются для каждого сеанса. Диапазон дат используется для фильтрации результатов для этого конкретного диапазона дат."
   "Session ID, "Счетчик сеансов увеличивается каждый раз, когда вы пытаетесь войти в систему."
   "Start Date,	"Время и дата входа в систему сохраняются для каждого сеанса. Диапазон дат используется для фильтрации результатов для этого конкретного диапазона дат."
   "Start Date, "Имя пользователя, выполнившего операцию создания, обновления, удаления."
