Руководство Пользователя
========================

**Создать индекс**
Вы можете использовать следующую команду для создания индекса -

``PUT school``

**Ответ**

Если индекс создан, вы можете увидеть следующий результат -

``{"acknowledged": true}``

**Добавить данные**    
**ADLS** будет хранить документы, которые мы добавляем в индекс, как показано в следующем коде. Документам присваиваются идентификаторы, которые используются для идентификации документа.
Тело запроса:

.. code-block:: js

    POST school/_doc/10
    {
    "name":"Saint Paul School", "description":"ICSE Afiliation",
    "street":"Dawarka", "city":"Delhi", "state":"Delhi", "zip":"110075",
    "location":[28.5733056, 77.0122136], "fees":5000,
    "tags":["Good Faculty", "Great Sports"], "rating":"4.5"
    }

**Ответ**

.. code-block:: js
    
    {
    "_index" : "school",
    "_type" : "_doc",
    "_id" : "10",
    "_version" : 1,
    "result" : "created",
    "_shards" : {
    "total" : 2,
    "successful" : 1,
    "failed" : 0
    },
    "_seq_no" : 2,
    "_primary_term" : 1
    }

**Здесь мы добавляем еще один похожий документ.**

.. code-block:: js

    POST school/_doc/16
    {
   "name":"Crescent School", "description":"State Board Affiliation",
   "street":"Tonk Road",
   "city":"Jaipur", "state":"RJ", "zip":"176114","location":[26.8535922,75.7923988],
   "fees":2500, "tags":["Well equipped labs"], "rating":"4.5"
    }

**Ответ**

.. code-block:: js

   {
   "_index" : "school",
   "_type" : "_doc",
   "_id" : "16",
   "_version" : 1,
   "result" : "created",
   "_shards" : {
      "total" : 2,
      "successful" : 1,
      "failed" : 0
   },
   "_seq_no" : 9,
   "_primary_term" : 7
    }



Создание индекс-паттерна в ADLS Dashboards
------------------------------------------

**OpenSearch Dashboards** требует индекс-паттерн для доступа к данным **ADLS**, которые вы хотите изучить. Индекс-паттерн выбирает данные для использования и позволяет определять свойства полей.

Шаблон индекса может указывать на конкретный индекс, например, данные вашего журнала за вчерашний день или все индексы, содержащие ваши данные. Он также может указывать на поток данных или алиас индекса.
Если у вас уже есть данные в **ADLS**, выполните следующие действия, чтобы создать шаблон индекса.

1. Откройте главное меню, затем нажмите *Stack Management* > *Index Patterns*.
2. Нажмите *“Create index pattern”*.

.. image:: imgs/user_1.png

3. Начните вводить текст в поле *"Index pattern name"*, и **Dashboards** будет искать имена индексов **ADLS**, соответствующие введенным вами данным
   
* Используйте подстановочный знак (``*``) для соответствия нескольким индексам. Например, предположим, что система создает индексы для данных Apache с использованием схемы именования filebeat-apache-a, filebeat-apache-bи так далее. Индекс-паттерн с именем filebeat-a соответствует одному источнику, filebeat-*нескольким источникам данных. Использование подстановочного знака - самый популярный подход.
* Выберите несколько индексов, введя несколько строк, разделенных запятыми. Убедитесь, что после запятой нет пробела. Например, filebeat-a,filebeat-b соответствует двум индексам, но не другим индексам, которые могут быть у вас впоследствии (filebeat-c).
* Используйте знак минус (-), чтобы исключить индекс, например, test*, -test3.

.. image:: imgs/user_2.png

1. Нажмите *Next step*

2. Если Dashboards обнаруживает индекс с меткой времени, развaерните меню *«Time field»*, а затем укажите поле по умолчанию для фильтрации данных по времени.
Если в вашем индексе нет данных, основанных на времени, или если вы не хотите выбирать поле отметки времени по умолчанию, выберите *"I don’t want to use the Time Filter"*.

.. note:: Если вы не установите поле времени по умолчанию, вы не сможете использовать глобальные фильтры времени на своих информационных панелях. Это полезно, если у вас есть несколько полей времени и вы хотите создать информационные панели, которые объединяют визуализации на основе разных отметок времени.

6. Нажмите *Create index pattern*.

7. Выберите этот шаблон индекса при поиске и визуализации данных.

Создание дашборда в OpenSearch Dashboards
-----------------------------------------

Дашборд представляет собой набор визуализаций , которые используются для анализа данных. Дашборд содержит всё необходимое, включая визуализации, интерактивные элементы управления, маркдауны и многое другое.

С помощью дашборда вы можете:
* Добавить несколько панелей, чтобы увидеть множество аспектов и представлений ваших данных в одном месте.
* Расставить панели для анализа и сравнения.
* Создавать и применять фильтры, чтобы сосредоточиться на данных, которые вы хотите отобразить.
* Контролировать, кто может использовать ваши данные, и делиться дашбордом с небольшой или большой аудиторией.
* Создавать отчеты на основе ваших выводов.

Для начала откройте главное меню, нажмите *«Dashboard»*, 

.. image:: imgs/user_3.png
    :width: 250px

затем нажмите *«Create new dashboard»*.

.. image:: imgs/user_4.png

Создание визуализаций в OpenSearch Dashboards
---------------------------------------------

Чтобы создать панель, убедитесь, что у вас есть данные, проиндексированные в **ADLS**, и индекс-паттерн для извлечения данных из **ADLS**. 
Для начала откройте главное меню, нажмите *«Visualize»*, затем нажмите *«Create new visualization»* и выберите нужный тип визуализации

.. image:: imgs/user_5.png

Пример готового дашборда по данным Netflow: 

.. image:: imgs/user_6.png

